webpackJsonp([0],{"0s+8":function(t,e,a){var o=a("d/A+");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("59d037a4",o,!1,{sourceMap:!1})},"31Lz":function(t,e,a){var o=a("Kgji");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("07162dc0",o,!1,{sourceMap:!1})},"5KzM":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".add[data-v-22c52596]{position:absolute;bottom:15px;right:15px;border-radius:50%;background:#fff;width:50px;height:50px;font-size:40px;line-height:50px;cursor:pointer;text-align:center}",""])},"5Tbe":function(t,e,a){"use strict";var o=a("Dd8w"),n=a.n(o),i=a("Xxa5"),r=a.n(i),s=a("exGp"),d=a.n(s),c=a("WnFU"),u=a("9HKg"),p=a("pcr/"),l=a("2we2").a.database();e.a={components:{bContainer:c.a,Memo:u.a,AddBtn:p.a},watchQuery:["id"],fetch:function(){var t=d()(r.a.mark(function t(e){var a,o,n=e.store,i=e.route;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return null!==n.getters.memoPath&&l.ref(n.getters.memoPath).off("value"),n.commit("setCurrentBoardId",+i.query.id),t.next=4,n.dispatch("getBoards");case 4:return a=l.ref(n.getters.memoPath),t.next=7,a.once("value");case 7:o=t.sent,n.commit("setMemoData",o.val()||[]),a.on("value",function(t){return n.commit("setMemoData",t.val()||[])});case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),data:function(){return{draggingId:null,prevX:null,prevY:null,name:""}},mounted:function(){0===this.$store.state.memoData.length&&this.$store.dispatch("addMemo")},beforeDestroy:function(){l.ref(this.$store.getters.memoPath).off("value")},methods:{confirm:function(){window.confirm("トップページに戻りますか？")&&this.$router.push("/")},dragStart:function(t,e){this.draggingId=e,this.prevX=t.pageX,this.prevY=t.pageY},dragEnd:function(){this.draggingId=null},onMove:function(t){var e=this.draggingId;if(null!==e){var a=t.pageX,o=t.pageY,i=n()({},this.$store.getters.getMemoById(e));i.left+=a-this.prevX,i.top+=o-this.prevY,i.left<=0&&(i.left=0),i.top<=0&&(i.top=0);var r=document.getElementsByClassName("side-bar")[0].clientWidth,s=t.pageX-i.left-r;t.pageX+200-s>=window.innerWidth&&(i.left=window.innerWidth-r-200);var d=t.pageY-i.top;t.pageY+305-d>=window.innerHeight&&(i.top=window.innerHeight-305),this.prevX=a,this.prevY=o,this.$store.dispatch("updateMemo",i)}},inputName:function(){var t=d()(r.a.mark(function t(){var e,a,o=this;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==this.name){t.next=3;break}return alert("名前を入力してください"),t.abrupt("return");case 3:if(!(e=this.$store.state.boards.find(function(t){return t.name===o.name}))){t.next=8;break}this.$router.push("/board/?id="+e.id),t.next=13;break;case 8:return t.next=10,this.$store.dispatch("createBoard",this.name);case 10:a=t.sent,this.$router.push("/board/?id="+a),this.name="";case 13:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}}},"8VOx":function(t,e,a){var o=a("5KzM");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("90f9ae96",o,!1,{sourceMap:!1})},"8ZlJ":function(t,e,a){"use strict";e.a={methods:{sendAddEvent:function(t){this.$emit("add",{originalEvent:t,myData:"oooiiiii"})}}}},"9HKg":function(t,e,a){"use strict";var o=a("WzEG"),n=a("QADS"),i=!1;var r=function(t){i||a("31Lz")},s=a("VU/8")(o.a,n.a,!1,r,"data-v-5e358a15",null);s.options.__file="components/Memo.vue",e.a=s.exports},JNKA:function(t,e,a){var o=a("X5j7");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("0b9f67dc",o,!1,{sourceMap:!1})},Kgji:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".memo[data-v-5e358a15]{position:absolute;top:20px;width:200px;height:300px}.handle[data-v-5e358a15]{width:100%;height:50px;background:rgba(0,0,0,.2);cursor:move}.close[data-v-5e358a15]{color:#fff;position:absolute;top:10px;right:15px;font-size:20px;cursor:pointer}",""])},MyuZ:function(t,e,a){"use strict";var o=a("Q0fC"),n=a("h1Gu"),i=!1;var r=function(t){i||a("JNKA")},s=a("VU/8")(o.a,n.a,!1,r,"data-v-47f88008",null);s.options.__file="components/Editor.vue",e.a=s.exports},PZV5:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"colorTab"},t._l(5,function(e){return a("div",{key:e,staticClass:"color",style:"background-color: "+t.$store.state.colorList[e-1],on:{mousedown:function(a){t.changeColor(e)}}})}))};o._withStripped=!0;var n={render:o,staticRenderFns:[]};e.a=n},Pfpg:function(t,e,a){"use strict";var o=function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"add",on:{click:this.sendAddEvent}},[this._v("+")])};o._withStripped=!0;var n={render:o,staticRenderFns:[]};e.a=n},Q0fC:function(t,e,a){"use strict";e.a={props:["text"],methods:{onInput:function(t){this.$emit("inputEvent",t.target.value)}}}},QADS:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"memo",style:"\n    top: "+t.data.top+"px;\n    left: "+t.data.left+"px;\n    z-index: "+t.data.zIndex+";\n    background-color: "+t.$store.state.colorList[t.data.colorIndex]+";\n  ",on:{mousedown:function(e){t.putForward(t.data.id)}}},[a("div",{staticClass:"handle",on:{mousedown:function(e){t.$emit("start",e)}}}),a("span",{staticClass:"close",on:{click:function(e){t.$store.dispatch("removeMemo",t.data.id)}}},[t._v("X")]),a("Editor",{attrs:{text:t.data.text},on:{inputEvent:t.onInput}}),a("ColorTab",{attrs:{color:t.data.colorIndex},on:{changeColor:t.onChangeColor}})],1)};o._withStripped=!0;var n={render:o,staticRenderFns:[]};e.a=n},RHhF:function(t,e,a){"use strict";e.a={props:["color"],methods:{changeColor:function(t){this.$emit("changeColor",t-1)}}}},WzEG:function(t,e,a){"use strict";var o=a("Dd8w"),n=a.n(o),i=a("MyuZ"),r=a("lhw5");a("2we2").a.database();e.a={components:{Editor:i.a,ColorTab:r.a},props:["data"],methods:{onInput:function(t){var e=this.data.id,a=n()({},this.$store.getters.getMemoById(e));a.text=t,this.$store.dispatch("updateMemo",a)},putForward:function(t){for(var e=[],a=0;a<this.$store.state.memoData.length;a++)e.push(this.$store.state.memoData[a].zIndex);var o=Math.max.apply(Math,e),i=this.data.id,r=n()({},this.$store.getters.getMemoById(i));r.zIndex=o+1,this.$store.dispatch("updateMemo",r)},onChangeColor:function(t){var e=this.data.id,a=n()({},this.$store.getters.getMemoById(e));a.colorIndex=t,this.$store.dispatch("updateMemo",a)}}}},X5j7:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".text[data-v-47f88008]{width:100%;height:230px;background:transparent;color:#fff;font-size:20px;border:none;outline:none;padding:15px}",""])},"d/A+":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".colorTab[data-v-5775cee6]{width:100%;height:20px;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-pack:distribute;justify-content:space-around;background:#fff;border-top:1px solid #fff}.color[data-v-5775cee6]{height:19px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.color+.color[data-v-5775cee6]{border-left:1px solid #fff;-webkit-box-sizing:border-box;box-sizing:border-box}",""])},h1Gu:function(t,e,a){"use strict";var o=function(){var t=this.$createElement;return(this._self._c||t)("textarea",{staticClass:"text",domProps:{value:this.text},on:{input:this.onInput}})};o._withStripped=!0;var n={render:o,staticRenderFns:[]};e.a=n},jueO:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("5Tbe"),n=a("sB6M"),i=!1;var r=function(t){i||a("jyWW")},s=a("VU/8")(o.a,n.a,!1,r,"data-v-0b065186",null);s.options.__file="pages/board.vue",e.default=s.exports},jyWW:function(t,e,a){var o=a("lGde");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);a("rjj0")("5d5128f7",o,!1,{sourceMap:!1})},kxFB:function(t,e){t.exports=function(t){return"string"!=typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)?'"'+t.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':t)}},lGde:function(t,e,a){var o=a("kxFB");(t.exports=a("FZ+f")(!1)).push([t.i,".bv-example-row[data-v-0b065186]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;min-width:100vw;background:50%/cover url("+o(a("m1Eb"))+")}.side-bar[data-v-0b065186]{min-height:100vh;background:#fff;color:#000;padding:0}.upper[data-v-0b065186]{width:100%;height:50px;text-align:center;padding:5px 0;background:#fff;text-decoration:none;font-weight:700}.toTitle[data-v-0b065186]{width:80%;display:inline-block;font-size:24px;color:#000;text-decoration:none;cursor:pointer}.toTitle[data-v-0b065186]:hover{color:green}.modalButton[data-v-0b065186]{width:20%;display:inline-block}.btn-wrapper.btn[data-v-0b065186]{border-radius:5px;font-size:16px;padding:0 5px;margin-left:10px;line-height:34px;font-weight:700;cursor:pointer}.input[data-v-0b065186]{height:36px;padding:5px;line-height:47px}.sample[data-v-0b065186]{height:50px;width:100%;padding:10px;line-height:30px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;color:#000}.sample[data-v-0b065186]:hover{border-right:10px solid green;padding-right:0;color:green;text-decoration:none}.nuxt-link-exact-active[data-v-0b065186],.nuxt-link-exact-active[data-v-0b065186]:hover{background:green;color:#fff}",""])},lhw5:function(t,e,a){"use strict";var o=a("RHhF"),n=a("PZV5"),i=!1;var r=function(t){i||a("0s+8")},s=a("VU/8")(o.a,n.a,!1,r,"data-v-5775cee6",null);s.options.__file="components/ColorTab.vue",e.a=s.exports},m1Eb:function(t,e,a){t.exports=a.p+"img/bricks.a875401.jpg"},"pcr/":function(t,e,a){"use strict";var o=a("8ZlJ"),n=a("Pfpg"),i=!1;var r=function(t){i||a("8VOx")},s=a("VU/8")(o.a,n.a,!1,r,"data-v-22c52596",null);s.options.__file="components/AddBtn.vue",e.a=s.exports},sB6M:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticClass:"bv-example-row"},[a("b-row",[a("b-col",{staticClass:"side-bar",attrs:{cols:"2"}},[a("div",{staticClass:"upper"},[a("div",{staticClass:"toTitle",on:{click:t.confirm}},[t._v("\n              Memo App\n          ")]),a("div",{staticClass:"modalButton"},[a("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.modal1",modifiers:{modal1:!0}}]},[a("i",{staticClass:"fas fa-plus"})]),a("b-modal",{attrs:{id:"modal1",title:"新規ボード作成"},on:{ok:t.inputName}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])],1)]),a("div",{staticClass:"lower"},t._l(t.$store.state.boards,function(e){return a("nuxt-link",{key:e.id,staticClass:"sample",attrs:{to:"/board/?id="+e.id}},[t._v("\n            "+t._s(e.name)+"\n            "),a("div",{staticClass:"btn-wrapper"},[a("div",{staticClass:"btn",on:{click:function(a){t.$store.dispatch("removeBoard",e.id)}}},[a("i",{staticClass:"fas fa-trash-alt"})])])])}))]),a("b-col",{attrs:{cols:"10"}},[a("div",{staticClass:"container",on:{mousemove:t.onMove,mouseup:t.dragEnd}},[t._l(t.$store.state.memoData,function(e){return a("Memo",{key:e.id,attrs:{data:e},on:{start:function(a){t.dragStart(a,e.id)}}})}),a("AddBtn",{on:{add:function(e){t.$store.dispatch("addMemo")}}})],2)])],1)],1)};o._withStripped=!0;var n={render:o,staticRenderFns:[]};e.a=n}});